<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2024-03-14" />

<title>CompARE</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XQ36C46RDM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XQ36C46RDM');
</script>











<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>










<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CompARE</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li>
  <a href="appfeatures.html">APP FEATURES</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R PACKAGE
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="package.html">INTRODUCTION</a>
    </li>
    <li>
      <a href="vignette.html">VIGNETTE</a>
    </li>
  </ul>
</li>
<li>
  <a href="aboutus.html">ABOUT US</a>
</li>
<li>
  <a href="publications.html">PUBLICATIONS</a>
</li>
<li>
  <a href="talks_1.html">TALKS</a>
</li>
<li>
  <a href="contact.html">CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">CompARE</h1>
<h4 class="date">2024-03-14</h4>

</div>


<div
id="implementation-guide-for-web-traffic-analytics-metrics-and-shiny-applications."
class="section level2">
<h2>Implementation guide for web traffic analytics metrics and shiny
applications.</h2>
<p>The goal of this report is define the steps to implement in the
CompARE Github Page, traffic analytics metrics for both the CompARE
website and the CompARE shiny apps.</p>
<p>Hemos creado una Github Page mostrando el proyecto CompARE, con
información sobre el paquete desarrollado y las aplicaciones Shiny.</p>
<p>Nuestro objetivo es mostrar el número de usuarios totales que
visitan:</p>
<p>1.- La página web</p>
<p>2.- Las dos aplicaciones Shiny (Binary y Time to Event)</p>
</div>
<div id="pasos" class="section level2">
<h2>Pasos</h2>
<div id="creación-de-una-cuenta-en-google-analytics"
class="section level3">
<h3>Creación de una cuenta en Google Analytics</h3>
<p>Creación de dos propiedades. Una para las Shiny Apps y otra para la
Web. Se ha usado la cuenta del grbio para crear estas dos propiedades.
Hemos reciclado una propiedad existente para mostrar el trafico de datos
de las Shiny Apps. Esta propiedad lleva registrando los datos de tráfico
desde el 21 de febrero del 2019. Para la nueva web generada a partir de
Github, hemos creado una nueva propiedad iniciando el seguimiento del
tráfico de datos el dia 13 de febrero de 2024.</p>
</div>
<div
id="empezar-a-registrar-el-tráfico-de-visitas-en-cada-una-de-las-propiedades"
class="section level3">
<h3>Empezar a registrar el tráfico de visitas en cada una de las
propiedades</h3>
<p>Una vez definidas las dos propiedades tenemos que copiar la etiqueta
de google al sitio web o aplicación shiny para que empiece a registrar
los datos. En el caso de la web de Github copiaremos esta etiqueta en
cada una de las páginas de la web.</p>
<p>Para las Shiny apps, se copiará en el fichero ui.R ?? (Revisar),
Acceder a través del server.</p>
<p>Importante!, el flujo de datos puede tardar hasta 48 horas en
activarse.</p>
</div>
<div
id="crear-un-report-para-obtener-los-datos-que-nos-interesan-en-la-google-sheets-report-extension."
class="section level3">
<h3>Crear un report para obtener los datos que nos interesan en la
Google Sheets Report Extension.</h3>
<p>Una vez hemos comprobado que tanto las Apps como la Web están siendo
trackeadas podemos exportar los datos que vemos en la plataforma de
Google Analytics, en una Google Sheet. Primero de todo nos descargarmos
la extensión de Google Sheets “GA4 Magic Reports”. GA4 Magic Reports is
a Google Sheets add-on that helps you to view and edit Google Analytics
4 data more easily in Google Sheets. Una vez instalada, crearemos un
nuevo informe para cada uno de las dos fuentes (Web y Shiny Apps) donde
queremos obtener la información proporcionada por Google Analytics.
Configuraremos los parametros que deseamos importar así como las fechas
de registro y los filtros necesarios. A continuación, programaremos la
actualización de la descarga de los datos para que lo haga diariamente.
Finalmente, ejecutaremos el informe y ya podremos ver los primeros datos
hasta el mismo dia. La idea es que cada dia estos datos se vayan
actualizando con la información que importa de Google Analytics.</p>
</div>
<div id="importar-estos-datos-en-nuestro-proyecto-de-r"
class="section level3">
<h3>Importar estos datos en nuestro proyecto de R</h3>
<p>El siguiente paso será importar estos datos de la hoja de cálculo a
nuestro repositorio/proyecto de R donde tenemos nuestra plana web y
donde queremos mostrar estos números informativos. Para ello tenemos que
copiar el enlace del report de Google Sheet asegurandonos que el accesso
al documento es para cualquier persona que internet que tenga el enlace.
Por defecto, muchas organizaciones tiene está opción restringida con la
posibilidad de compartir documentos únicamente entre miembros de la
entidad. Así que esto hay que tenerlo presente por si se necesitan
solicitar permisos.</p>
<p>Seleccionamos la página en la que queremos que se muestre toda la
información. Usaremos la libreria gsheets con la función gsheets2tbl
para llamar la url donde esta el report de Goggle Sheets. Una cosa a
tener en cuenta es que siempre lee la primera primera hoja del
documento. Así que una solución sería reordenar las hojas para que el
report se encuentre como la primera hoja y la configuración de los
parámetros en la segunda hoja.</p>
<p>A continuación, simplemente hay que obtener la información que nos
interesan a través de la típica extracción de datos.</p>
<p>Guardamos el número que nos interesa en un objeto R y lo podemos
incluir en una “badge” para que quede más bonito.</p>
</div>
<div
id="automatizar-el-proceso-para-que-estos-datos-se-vayan-actualizando-diariamente"
class="section level3">
<h3>Automatizar el proceso para que estos datos se vayan actualizando
diariamente</h3>
<p>Github workflows. Documemnto YAML. Tenemos que crear un documetno
yaml con las instrucciones para que automatizo el proceso de
actualización. Cada dia renderiza el documento donde hemos añadido la
info y actualiza la página web.</p>
<p>FIN</p>
</div>
<div id="tareas" class="section level3">
<h3>TAREAS</h3>
<div id="añadir-pantallazos" class="section level4">
<h4>Añadir pantallazos</h4>
</div>
<div id="añadir-código-de-ejemplo" class="section level4">
<h4>Añadir código de ejemplo</h4>
</div>
<div id="mejorar-el-texto" class="section level4">
<h4>Mejorar el texto</h4>
</div>
<div id="traducir-al-inglés" class="section level4">
<h4>Traducir al inglés</h4>
</div>
<div id="renderizar-a-html." class="section level4">
<h4>Renderizar a HTML.</h4>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
